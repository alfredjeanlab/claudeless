# Full-featured capture scenario
# Demonstrates all capture configuration options for TUI interaction testing

name = "full-capture-demo"
claude_version = "2.1.12"

[capture]
name = "tui-interaction-capture"
capture_type = "tui"
retry_count = 2
timeout_ms = 30000
output_file = "capture-output.jsonl"

[[capture.key_sequences]]
name = "enter prompt"
keys = ["H", "i", "Enter"]
delay_ms = 50

[capture.key_sequences.wait_for]
type = "prompt_ready"

[[capture.key_sequences]]
name = "submit and wait"
keys = ["Enter"]

[capture.key_sequences.wait_for]
type = "response_complete"

[[capture.expected_states]]
name = "verify response shown"
after_sequence = 1

[[capture.expected_states.conditions]]
type = "text_visible"
pattern = ".*"

[[capture.normalization_rules]]
type = "strip_ansi"

[[capture.normalization_rules]]
type = "normalize_timestamps"

[[capture.normalization_rules]]
type = "normalize_uuids"

[[capture.normalization_rules]]
type = "replace"
pattern = "/Users/[^/]+/"
replacement = "/Users/[USER]/"
