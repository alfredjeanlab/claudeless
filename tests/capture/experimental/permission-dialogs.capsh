# Attempts to trigger permission dialogs by asking Claude
# to perform actions that require approval.
# Challenge: Need Claude to request specific permissions

wait "for shortcuts"

# Try to trigger bash permission dialog
send "Please run: echo hello" <Enter>

# Wait for permission dialog (may timeout if Claude responds differently)
wait "Allow" 10000
snapshot "permission_bash"

# Dismiss with Escape
send <Esc>
wait 500

# Try to trigger file edit permission
send "Please create a file called /tmp/test.txt with 'hello'" <Enter>

# Wait for permission dialog
wait "Allow" 10000
snapshot "permission_edit"

send <Esc> 100 <C-u> 100 "/exit" 100 <Enter>
wait 500
kill TERM
